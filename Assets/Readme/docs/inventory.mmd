sequenceDiagram
    participant Player
    participant InputSystem
    participant InventoryController
    participant InventoryModel
    participant InventoryView
    
    Player->>InputSystem: 按下I键
    InputSystem->>InventoryController: ToggleInventory()
    InventoryController->>InventoryView: SetVisible(true)
    InventoryView->>InventoryModel: 请求数据
    InventoryModel->>InventoryView: 提供物品数据
    InventoryView->>InventoryView: 更新UI显示
    
    Player->>InventoryView: 开始拖拽物品
    InventoryView->>InventoryView: 显示拖拽图标
    
    Player->>InventoryView: 放置到新槽位
    InventoryView->>InventoryController: MoveItem(from, to)
    InventoryController->>InventoryModel: MoveItem(from, to)
    InventoryModel->>InventoryModel: 更新物品位置
    InventoryModel->>InventoryView: 触发OnInventoryChanged
    InventoryView->>InventoryView: 更新UI显示
    
    Player->>InventoryView: 点击物品
    InventoryView->>InventoryController: ShowItemDetails(item)
    InventoryController->>InventoryView: 显示详情面板